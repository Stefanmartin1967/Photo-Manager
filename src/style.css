:root { --primary: #2563eb; --bg: #f8fafc; --card: #ffffff; }
body { font-family: sans-serif; background: var(--bg); margin: 0; padding-bottom: 100px; }

.top-bar { background: white; padding: 1rem; display: flex; gap: 20px; border-bottom: 1px solid #e2e8f0; }

/* Gallery Layout */
.gallery { display: flex; flex-direction: column; gap: 30px; padding: 20px; }

.group-section { background: #fff; padding: 15px; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
.group-header { margin-bottom: 15px; padding-bottom: 10px; border-bottom: 2px solid #e2e8f0; font-size: 1.2rem; font-weight: bold; color: #1e293b; }
.group-title { padding: 5px; border-radius: 4px; border: 1px dashed transparent; cursor: text; }
.group-title:hover { border-color: #cbd5e1; background: #f8fafc; }

.group-photos { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; min-height: 100px; }
.group-photos:empty::after { content: 'DÃ©posez des photos ici'; color: #94a3b8; font-style: italic; display: flex; align-items: center; justify-content: center; height: 100%; border: 2px dashed #e2e8f0; border-radius: 8px; grid-column: 1 / -1; }

.photo-card { background: var(--card); border-radius: 8px; overflow: hidden; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1); border: 3px solid transparent; cursor: grab; position: relative; }
.photo-card.selected { border-color: var(--primary); }
.photo-card img { width: 100%; height: 150px; object-fit: cover; }
.photo-info { padding: 8px; font-size: 0.85rem; font-weight: bold; color: var(--primary); min-height: 20px; outline: none; }
.photo-info:focus { background: #f1f5f9; }

.card-controls { position: absolute; top: 5px; right: 5px; display: flex; gap: 5px; z-index: 10; }
.card-controls button { width: 25px; height: 25px; border-radius: 50%; border: none; color: white; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; padding: 0; }
.delete-btn { background: #ef4444; }
.extract-btn { background: #f59e0b; }

.bottom-controls { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: white; padding: 15px 30px; border-radius: 50px; display: flex; gap: 15px; box-shadow: 0 10px 15px -3px rgba(0,0,0,0.3); z-index: 100; border: 1px solid #ddd; }

button { padding: 8px 16px; border-radius: 20px; border: none; cursor: pointer; font-weight: 600; }
.btn-primary { background: var(--primary); color: white; }
.btn-save { background: #10b981; color: white; }

#compare-modal { position: fixed; inset: 0; background: rgba(0,0,0,0.9); display: none; z-index: 1000; padding: 40px; }
#compare-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; height: 100%; }
#compare-grid img { width: 100%; height: 100%; object-fit: contain; }
.close-compare { position: absolute; top: 10px; right: 20px; color: white; font-size: 40px; cursor: pointer; }

.sortable-ghost { opacity: 0.4; background: #cbd5e1; }
